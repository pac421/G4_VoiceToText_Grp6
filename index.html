<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Exotismes</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v5.15.4/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />      
    </head>
    <style>
        #div1, #div2 {
          float: left;
          width: 100px;
          height: 35px;
          margin: 10px;
          padding: 10px;
          border: 1px solid black;
        }
        </style>
    <body id="page-top" data-component="index">
        <div id="content">
            <div class="clearfix">
                <div class="classicTxt-wrapper container"> 
                    <h2>Elaboration PNR par reconnaissance vocale</h2>     
                    <p>Appuyez sur le micro, puis parlez.</p>
                    <div class="row g-4 py-5 row-cols-1 row-cols-lg-3">
                            <div class="col-md-4">
                                
                                    <button type="button" onclick="runSpeechRecognition()">
                                        <i class="fa fa-microphone fa-4x"></i>
                                    </button>
                                    <span id="action" style="margin-left: 110px;"></span> 
                                    
                                
                            </div>                   
                             
							<div class="col-md-4" style="margin-top: 55px;">
								<section class="align-self-center">
									<form style="width: 26rem;">
										
										<div class="form-outline mb-4">  
											<textarea cols="50" id="output" style="margin-top: 0px; margin-bottom: 0px; height: 144px;"></textarea> 
										</div>                    
										<div class="float-end mt-2 pt-1">                                
											<button onclick="myFunction()" type="button" class="btn btn-outline-secondary btn-sm">
											Valider
											</button>
										</div>
									</form>      
								</section>
							</div>
							<div class="col-md-4" style="margin-top: 0px;">
                                <div class="border rounded-3 legende ">                            
                                        <h4>Mots clés non reconnus</h4>
                                        <p>
                                            <button class="buttonlegend"><b>Demi-pension</b></button><br>
                                            <button class="buttonlegend"><b>Petit-déjeuner</b></button><br>
                                            <button class="buttonlegend"><b>Hébergements seuls</b></button><br>
                                            <button class="buttonlegend"><b>Pension complète</b></button><br>
                                            <button class="buttonlegend"><b>Tout inclus</b></button><br>
                                            <button class="buttonlegend"><b>All inclusive</b></button><br>
                                            <button class="buttonlegend"><b>Conditions d’annulation</b></button><br>
                                            <button class="buttonlegend"><b>Contre-proposition</b></button><br>
                                            <button class="buttonlegend"><b>12 juillet 2022</b></button><br>
                                            <button class="buttonlegend"><b>? Nuit(s)</b></button><br>
                                            <button class="buttonlegend"><b>Martinique</b></button><br>
                                            <button class="buttonlegend"><b>Marseille</b></button><br>
                                            <button class="buttonlegend"><b>? Adulte(s), ? enfant(s) et ? bébé(s)</b></button><br>
                                        </p>
                                </div>
							</div>                                              
                    </div>                 
                    <h2>Statistiques d’utilisations</h2> 

                    <div class="d-flex justify-content-center">
                        <div class="wrapper container bg-light shadow-sm">
                        <div class="container textbody">
                            <h2> Nombre de mots-clés : </h2>
                            <div class="row text-center text-white">
                            <div class="col-4 colorone arondir mt-3 shadow-sm p-3 mb-4">
                                    <h2>
                                        00
                                    </h2>
                                    <p class="texte">
                                       détectés par minute
                                    </p>
                            </div>
                            <div class="col-4 colortwo arondir mt-3 shadow-sm p-3 mb-4">
                                    <h2>
                                        00
                                    </h2>
                                    <p class="texte">
                                        détectés par heure
                                    </p>
                            </div>
                            <div class="col-4 colorone arondir mt-3 shadow-sm p-3 mb-4">
                                <h2>
                                    00
                                </h2>
                                    <p class="texte">
                                        détectés par jour
                                    </p>
                            </div>
                        </div>
                        
                        </div>
                        
                        <div class="container textbody case">
                            <h2> Statistiques </h2>

                            <div class="row text-white text-center">
                                <div class="col colorone arondir mt-3 shadow-sm p-3 mb-4">
                                    <h2> 77%</h2>
                                    <p class="texte"> de réussite de détection</p>
                                    <div class="progress mb-2">
                                        <div class="progress-bar" role="progressbar" style="width:77%" aria-valuenow="77" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        
                        <div class="container textbody casebisbis">
                            <div class="row text-white text-center">
                        <div class="col-6 colorone arondir mt-3 shadow-sm p-3 mb-4 ">
                            <h2> 00</h2>
                                <p class="texte"> conversations en cours </p>
                        </div>
                        
                        <div class="col-6 colortwo arondir mt-3 shadow-sm p-3 mb-4">
                            <h2> 00 </h2>
                            <p class="texte"> actions exécutées </p>
                        
                        </div>
                            </div>
                        </div>
                        
                        <div class="container textbody case">
                            <h2> Performances </h2>
                            <div class="row text-white text-center">
                                <div class="col-6 colortwo arondir mt-3 shadow-sm p-3 mb-5">
                                    <h2> 50 %</h2>
                                    <p class="texte"> de CPU utilisé par la Raspberry </p>
                                    <div class="progress mb-2">
                                        <div class="progress-bar" role="progressbar" style="width:50%" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                </div>
                        
                                <div class="col-6 colorone arondir mt-3 shadow p-3 mb-5">
                                    <h2> 75 %</h2>
                                    <p class="texte"> de RAM utilisé par la Raspberry</p>

                                    <div class="progress mb-2">
                                        <div class="progress-bar" role="progressbar" style="width:75%" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                        
                                </div>
                            </div>
                        </div>
                    </div>                       
                </div>              
            </div>
        </div>
    </body>
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        <script>
            /* JS comes here */
            function runSpeechRecognition() {
                // get output div reference
                var output = document.getElementById("output");
                // get action element reference
                var action = document.getElementById("action");
                // new speech recognition object
                var SpeechRecognition = SpeechRecognition || webkitSpeechRecognition;
                var recognition = new SpeechRecognition();
            
                // This runs when the speech recognition service starts
                recognition.onstart = function() {
                    action.innerHTML = "<small>Enregistrement en cours...</small>";
                };
                
                recognition.onspeechend = function() {
                    action.innerHTML = "<small>Enregistrement terminé</small>";
                    recognition.stop();
                }
              
                // This runs when the speech recognition service returns result
                recognition.onresult = function(event) {
                    var transcript = event.results[0][0].transcript;
                    var confidence = event.results[0][0].confidence;
                    output.innerHTML = "<b>Texte:</b> " + transcript + "<br/> <b>Fiabilité:</b> " + confidence*100+"%";
                    output.classList.remove("hide");
                };
              
                 // start recognition
                 recognition.start();
            }

            //drag and drop
                function allowDrop(ev) {
                    ev.preventDefault();
                }

                function drag(ev) {
                    ev.dataTransfer.setData("text", ev.target.id);
                }

                function drop(ev) {
                    ev.preventDefault();
                    var data = ev.dataTransfer.getData("text");
                    ev.target.appendChild(document.getElementById(data));
                }
        </script>
        
</html>
